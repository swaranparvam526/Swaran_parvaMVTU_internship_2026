<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // Student Result Management System

// Initial student data
const students = [
 { id: 1, name: "Rahul", marks: [80, 75, 90] },
 { id: 2, name: "Sneha", marks: [60, 70, 65] },
 { id: 3, name: "Arjun", marks: [95, 92, 88] }
];


// Task 1
// Function to calculate total marks using reduce()
function getTotal(marks) {
 return marks.reduce(function(sum, mark) {
  return sum + mark;
 }, 0);
}


// Task 2
// Arrow function to calculate average and grade
const getAverageGrade = (marks) => {

 let total = getTotal(marks);
 let avg = total / marks.length;

 let grade;

 if(avg >= 90) grade = "A";
 else if(avg >= 75) grade = "B";
 else if(avg >= 60) grade = "C";
 else grade = "Fail";

 return {total: total, average: avg, grade: grade};
};


// Task 3
// Creating new array with name, total, average and grade
const resultArray = students.map(function(student){

 let data = getAverageGrade(student.marks);

 return {
  name: student.name,
  total: data.total,
  average: data.average,
  grade: data.grade
 };

});


// Task 4
// Students having average above 75
const above75 = resultArray.filter(function(student){
 return student.average > 75;
});

console.log("Students Above 75 Average:");
console.log(above75);


// Task 5
// Printing all student details using forEach()
console.log("All Student Details:");

resultArray.forEach(function(student){

 console.log(
  "Name:", student.name,
  "| Total:", student.total,
  "| Average:", student.average,
  "| Grade:", student.grade
 );

});


// Task 6
// Scope example using let, var and const
function scopeTest(){

 let a = 10;   // block scope
 var b = 20;   // function scope
 const c = 30; // block scope

 if(true){
  let a = 100;
  var b = 200;
  const c = 300;

  console.log("Inside Block:", a,b,c);
 }

 // let and const remain same outside block
 // var changes because it is function scoped

 console.log("Outside Block:", a,b,c);

}

scopeTest();


// Task 7
// Primitive Type Example (Number)

let num1 = 10;
let num2 = num1;

num2 = 50;

console.log("Primitive Example:");
console.log("num1 =", num1);
console.log("num2 =", num2);

// Primitive copies value only
// Changing num2 does not affect num1



// Reference Type Example (Array)

let arr1 = [1,2,3];
let arr2 = arr1;

arr2[0] = 100;

console.log("Reference Example:");
console.log("arr1 =", arr1);
console.log("arr2 =", arr2);

// Reference copies address
// Changing arr2 also changes arr
    </script>
</body>
</html>